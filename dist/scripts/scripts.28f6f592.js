"use strict";angular.module("chatterApp",["ngAnimate","ngCookies","ngMessages","ngResource","ngRoute","ngSanitize","ngTouch","ngMaterial","ngMdIcons","firebase"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).when("/room/:id",{templateUrl:"views/room.html",controller:"RoomCtrl"}).when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl"}).otherwise({redirectTo:"/"})}]),angular.module("chatterApp").controller("MainCtrl",["$scope","$mdSidenav",function(a,b){a.toggleMenu=function(a){b(a).toggle()}}]),angular.module("chatterApp").controller("NavCtrl",["$scope","$rootScope","$location","$firebaseArray","$mdSidenav","$timeout","$firebaseAuth",function(a,b,c,d,e,f,g){var h=new Firebase("https://msports.firebaseio.com"),i=new Firebase("https://msports.firebaseio.com/rooms"),j=g(h),k=function(a){f(function(){b.currentUser={name:a.facebook.displayName,avatar:a.facebook.cachedUserProfile.picture.data.url}})},l={name:"Anonoymous",avatar:"http://i.imgur.com/JvIyM.jpg"};b.currentUser=l;var m=j.$getAuth();k(m),a.rooms=d(i),a.openRoom=function(a){c.path("/room/"+a.$id),e("left").close()},a.showCreateRoomDialog=function(b){var c=prompt("What do you want to call the room?");if(!c)return void alert("You need to give the room a name.");var d=i.push({name:c});a.openRoom(d)},a.loginWithFacebook=function(){h.authWithOAuthPopup("facebook",function(a,c){a?(alert("Login Failed!",a),b.currentUser=l):k(c)})}}]),angular.module("chatterApp").controller("RoomCtrl",["$scope","$rootScope","$firebaseObject","$firebaseArray","$routeParams","$mdSidenav",function(a,b,c,d,e,f){var g=new Firebase("https://msports.firebaseio.com/rooms/"+e.id),h=new Firebase("https://msports.firebaseio.com/messages/"+e.id);a.room=c(g),a.messages=d(h),a.toggleMenu=function(a){f(a).toggle()},a.sendMessage=function(c,d){13===c.keyCode&&(h.push({user:b.currentUser,message:d,when:Firebase.ServerValue.TIMESTAMP}),a.newMessage="")}}]),angular.module("chatterApp").controller("AboutCtrl",["$scope",function(a){a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]);
